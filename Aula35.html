<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>CFB Cursos - JavaScript</title>
        <meta charset="utf-8">
        <style>
            #jogador{
                position: absolute;
                top: 0px;
                left: 0px;
                background-color: #00f;
                width: 50px;
                height: 50px;
            }
        </style>
        <script>
            var jog, vel, dx, dy, px, py, anima;

            function inicia(){
                vel = 5;
                dx =- 1;
                dy = 0;
                px = 0;
                py = 0;
                jog = document.getElementById("jogador");
                jog.addEventListener("click", moverParar);
                document.getElementById("bt1").addEventListener("click",mover);
                document.getElementById("bt2").addEventListener("click",parar);
                game();
            }
            function moverParar(){
                if (estado){
                    estado = 0;
                    jog.style.backgroundColor = "#f00000";
                    cancelAnimationFrame(anima);
                }
                else{
                    estado = 1;
                    jog.style.backgroundColor = "#00f";
                    anima = requestAnimationFrame(game);
                }
            }
            function mover(){
                if(!estado){
                    estado = 1;
                    jog.style.backgroundColor = "#00f";
                    anima = requestAnimationFrame(game);
                }
            }
            function parar(){
                estado = 0;
                jog.style.backgroundColor = "#f00000";
                anima = cancelAnimationFrame(anima);
            }
            function game(){
                px += (dx * vel);
                //py += (dy * vel);
                jog.style.left = px + "px";
                //jog.style.top = py + "px";
                if(px > 800){
                    dx =- 1;
                }
                else if(px < 0){
                    dx = 1;
                }
                anima = requestAnimationFrame(game);
            }
            window,addEventListener("load",inicia);
        </script>
    </head>
    </body>
        <div id="jogador"></div>
        <button id="bt1">Iniciar</button>
        <button id="bt2">Parar</button>
    </body>
</html>